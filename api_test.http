### [변수 설정]
@host = http://localhost:8080
@sessionToken = d2f5ef56-a939-475a-9555-e62711ce4451

# ==========================================
# 1. 인증 (Public API - 토큰 필요 없음)
# ==========================================

### 1-1. 소셜 로그인 (유저 생성 및 세션 발급)
POST {{host}}/api/auth/login
Content-Type: application/json

{
  "socialId": "test_social_id_123",
  "loginType": "KAKAO"
}
###


# ==========================================
# 3. 기록 제출 및 조회 (Secured API)
# ==========================================

### 3-1. [성공] 손글씨 기록 제출
POST {{host}}/api/records/submit
Authorization: Bearer {{sessionToken}}
Content-Type: multipart/form-data; boundary=webapp

--webapp
Content-Disposition: form-data; name="data"
Content-Type: application/json

{
  "font": "v1_test_model",
  "sentence": "오늘도 행복한 하루 되세요."
}
--webapp
Content-Disposition: form-data; name="file"; filename="test.jpg"
Content-Type: image/jpeg

< ./test.jpg
--webapp--
### 3-2. [실패] 토큰 없이 제출 (403 기대)
POST {{host}}/api/records/submit
Content-Type: multipart/form-data; boundary=webapp

--webapp
Content-Disposition: form-data; name="data"
Content-Type: application/json

{
  "font": "나눔바른펜",
  "sentence": "오늘도 행복한 하루 되세요."
}
--webapp--

###
GET {{host}}/api/records
Authorization: Bearer {{sessionToken}}
Accept: application/json

###
GET {{host}}/api/records
Accept: application/json


# ==========================================
# 5. 피드백 조회 (Secured API)
# ==========================================

### 5-1. [성공] 상세 피드백 조회
GET {{host}}/api/records/8/feedback
Authorization: Bearer {{sessionToken}}
Accept: application/json

### 5-2. [실패] 토큰 없이 조회 (403 기대)
GET {{host}}/api/records/8/feedback
Accept: application/json